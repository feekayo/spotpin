/**
 * this route handles all requests for continents
 */
var http = require('http');
var express = require('express');
var router = express.Router();
// var router = require('router');
var app = express();
var url = require('url');
var mongodb = require("mongodb");
var ObjectID = mongodb.ObjectID;
var continents = require('modules/continents');
var mongoose = require('mongoose');
var continents_service = require('models/continents');





// Get Routes

router.get('/continents/:id', function(request, response) {
	response.send(JSON.stringify(continents.query(request.params.id)))
});

router.get('/', function(request, response) {
	var get_params = url.parse(request.url, true).query;
					if (Object.keys(get_params).length == 2) {
						var arg = get_params.arg;
						var value = get_params.value;
						if (arg != '' && value != '' && arg != null
								&& value != null) {
							continents_service.findByArg(continents_service.Continent, arg, value, response);
						} else {
							response
									.send('Hmmmm... something\'s not right, Are you sure you specified the URI in the right format?')
						}

					} else if (Object.keys(get_params).length == 0) {
						// response.send('All Results');
						continents_service.list(continents_service.Continent,  response);
					} else {
						response
								.send('Hmmmm... something\'s not right, Are you sure you specified the URI in the right format?')
					}

});
//Add New Continent
router.post('/new',function(requestBody, response) {
	
	contitnents_service.create(continennts_service.Continent, requestBody, response);
});

//Remove Continent
router.get('/remove/:id', function(requestBody, response) {
	
	continents_service.remove(continents_service.Continent, requestBody.params.id, response);
});




module.exports = router;